# lnweb-api
- ✅ Add Jest unit tests for `knowledge-controller` (normalizePath, metadata extraction, cache hit/miss, error propagation) and `/knowledge` routes by mocking `fetch`/Dynamo so CDN/SSM failures are covered.
- ✅ Write integration tests that boot the real Express app (no route mocks) and exercise `/info`, `/stats`, `/join-in`, `/knowledge`, and `/maps` endpoints with mocked AWS clients to verify middleware, cache headers, and error handling.
- ✅ Expand `networks-info` unit coverage (flattenItem, caching layers, nearby network parsing, bag/member aggregation, "all" fallback) using fake Dynamo/DocumentClient adapters.
- ✅ Strengthen controller tests for bag/news CSV endpoints and error branches, ensuring custom overrides are asserted.
- Add integration tests for `/news` routes (JSON feed + legacy CSV) to confirm caching/error handling.
- Add tests for the `/maps/snap-route` proxy to verify Parameter Store fallback and OpenRoute errors are surfaced cleanly.

# lnweb-react
- Set up Vitest + RTL and add tests for `NavDataProvider`/`useNavData` (network selection, redirects, nearby networks) plus shared helpers (`getSectionFromPath`, `getPrimaryDistrictId`, sanitizers in `KnowledgePage`).
- Cover data-source hooks (`useAppSnapshot`, `useContentJob`, stats/news/knowledge fetchers) with mocked `window.appApi`/`fetch` so URL building, AbortSignal handling, and friendly errors are verified.
- Add component tests for content-heavy pages (HomePage block builder, Join-In blocks, Join-In Stats summary text, KnowledgePage rendering) to lock down conditional layouts.
- Test canvas/chart utilities (`StatsBoardImage`, `StatsSummaryImage`) by mocking canvas/image APIs to ensure rendering fallback behaviour and accessibility text stay correct.

# litter-networker
- Introduce unit tests for shared services: `BagCountService` (input validation, mock mode, Dynamo writes, aggregate rebuild boundaries), `CostService` (cache fallback, FX fetch failure), and `NetworksService` (header merging, update/add/delete flows with table routing).
- Add integration-style tests for the Electron main process APIs (mock IPC + services) to ensure menu/context hooks, mock-server toggles, and hotkey routing don’t regress.
- Test renderer data-source hooks (`useAppSnapshot`, `useContentJob`, `useNetworksData`, costs reports) with mocked `window.appApi` streams to validate log buffering, subscription cleanup, and error messaging.
- Add integration tests for `ContentService` + renderer hook (mock child process) covering venv creation, dependency install failures, progress streaming, and cancellation signals.
- Add unit/functional tests for the Python utilities themselves (pytest or similar) to ensure the scripts handle CLI args, log errors clearly, and exit with the right codes.
- Add tests for `scripts/copy-python-utils.mjs` (or refactor) to verify packaged builds include the expected python-utils files and fail loudly when files are missing or extra.
